<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Flutter 安装配置 | 顾斯比</title>
<link rel="shortcut icon" href="http://blog.gusibi.site/favicon.ico?v=1597591641172">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="http://blog.gusibi.site/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="Flutter 安装配置 | 顾斯比 - Atom Feed" href="http://blog.gusibi.site/atom.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-76238744-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-76238744-1');
</script>


    <meta name="description" content="安装


下载SDK：



Windows SDK：Stable 1.17.3
macOS SDK：Stable 1.17.3
Linux SDK：Stable 1.17.3
其它版本列表：SDK 版本列表[2]



将文件解压到目标路..." />
    <meta name="keywords" content="Flutter,前端,教程" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
    <script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="http://blog.gusibi.site">
  <img class="avatar" src="http://blog.gusibi.site/images/avatar.png?v=1597591641172" alt="">
  </a>
  <h1 class="site-title">
    顾斯比
  </h1>
  <p class="site-description">
    这个人很懒
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?eb5ce2e96866802764816b111f5a3ffb";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          首页
        </a>
      
    
      
        <a href="/archives" class="menu">
          归档
        </a>
      
    
      
        <a href="/tags" class="menu">
          标签
        </a>
      
    
      
        <a href="/post/about" class="menu">
          关于
        </a>
      
    
  </div>
  <div class="social-container">
    
      
        <a href="https://github.com/gusibi" target="_blank">
          <i class="ri-github-line"></i>
        </a>
      
    
      
        <a href="https://twitter.com/amazing_gs" target="_blank">
          <i class="ri-twitter-line"></i>
        </a>
      
    
      
    
      
    
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              Flutter 安装配置
            </h2>
            <div class="post-info">
              <span>
                2020-06-06
              </span>
              <span>
                8 min read
              </span>
              
                <a href="http://blog.gusibi.site/tag/crhvilrYib/" class="post-tag">
                  # Flutter
                </a>
              
                <a href="http://blog.gusibi.site/tag/QFxrVQKr-F/" class="post-tag">
                  # 前端
                </a>
              
                <a href="http://blog.gusibi.site/tag/Ez7OfGV-oL/" class="post-tag">
                  # 教程
                </a>
              
            </div>
            
              <img class="post-feature-image" src="http://blog.gusibi.site/post-images/flutter-00-install-and-setting.png" alt="">
            
            <div class="post-content-wrapper">
              <div class="post-content">
                <h2 id="安装">安装</h2>
<ol>
<li>
<p>下载SDK：</p>
</li>
<li>
<ol>
<li>Windows SDK：<a href="https://storage.flutter-io.cn/flutter_infra/releases/stable/windows/flutter_windows_1.17.3-stable.zip">Stable 1.17.3</a></li>
<li>macOS SDK：<a href="https://storage.flutter-io.cn/flutter_infra/releases/stable/macos/flutter_macos_1.17.3-stable.zip">Stable 1.17.3</a></li>
<li>Linux SDK：<a href="https://storage.flutter-io.cn/flutter_infra/releases/stable/linux/flutter_linux_1.17.3-stable.tar.xz">Stable 1.17.3</a></li>
<li>其它版本列表：<a href="https://flutter.cn/docs/development/tools/sdk/archive">SDK 版本列表</a>[2]</li>
</ol>
</li>
<li>
<p>将文件解压到目标路径, 比如:</p>
</li>
</ol>
<pre><code class="language-shell">cd ~/flutter
unzip ~/Downloads/flutter_macos_1.17.3-stable.zip
</code></pre>
<p>也可以从Github上获取源代码：</p>
<pre><code class="language-shell">git clone https://github.com/flutter/flutter.git
</code></pre>
<ol>
<li>配置 <code>flutter</code> 的 PATH 环境变量：</li>
</ol>
<pre><code class="language-shell">export PATH=&quot;$PATH:~/flutter/flutter/bin&quot;
</code></pre>
<p><strong><code>~/flutter/flutter/bin 需要替换成你设置的目录。</code></strong></p>
<p>如果bash 使用的是 zsh，需要把这行代码写入到 <code>~/.zsh_rc</code> 文件，如果是bash，则需要写入 <code>~/.bash_profile</code> ，文件更新后需要执行</p>
<pre><code>source ~/.zsh_rc
</code></pre>
<ol>
<li><code>flutter</code> 命令行工具会下载不同平台的开发二进制文件，如果需要一个封闭式的构建环境，或在网络可用性不稳定的情况下使用等情况，你可能需要通过下面这个命令预先下载 iOS 和 Android 的开发二进制文件：</li>
</ol>
<pre><code class="language-shell">flutter precache
</code></pre>
<ol>
<li>flutter doctor 命令</li>
</ol>
<p>运行flutter doctor命令可以查看当前环境是否需要安装其他的依赖，输出结果如下：</p>
<pre><code class="language-shell">➜  ~ flutter doctor

Doctor summary (to see all details, run flutter doctor -v):
[✓] Flutter (Channel stable, v1.17.1, on Mac OS X 10.15.5 19F96, locale zh-Hans-CN)

[✓] Android toolchain - develop for Android devices (Android SDK version 29.0.3)
[✓] Xcode - develop for iOS and macOS (Xcode 11.4.1)
[✓] Android Studio (version 4.0)
[!] IntelliJ IDEA Ultimate Edition (version 2020.1.1)
    ✗ Flutter plugin not installed; this adds Flutter specific functionality.
    ✗ Dart plugin not installed; this adds Dart specific functionality.
[✓] VS Code (version 1.45.1)
[✓] Connected device (1 available)

! Doctor found issues in 1 category.
</code></pre>
<p>从上述结果可以看出，IntelliJ IDEA Ultimate Edition 没有安装flutter plugin 和 dart plugin 没有安装。</p>
<ol>
<li>配置编辑器</li>
</ol>
<h3 id="设置-ios-开发环境">设置 iOS 开发环境</h3>
<ol>
<li>安装Xocde</li>
<li>配置 Xcode command-line tools:</li>
</ol>
<pre><code>sudo xcode-select --switch /Applications/Xcode.app/Contents/Developer
sudo xcodebuild -runFirstLaunch
</code></pre>
<ol>
<li>运行一次 Xcode 或者通过输入命令 <code>sudo xcodebuild -license</code> 来确保已经同意 Xcode 的许可协议</li>
</ol>
<p>安装了 Xcode 之后，你就可以在 iOS 真机或者模拟器上运行 Flutter 应用了。</p>
<h4 id="配置ios-模拟器">配置iOS 模拟器</h4>
<p>输入命令运行模拟器</p>
<pre><code>open -a Simulator
</code></pre>
<p>如果你想把 Flutter 应用部署到 iOS 的真机上，你还需要一个 Apple 开发者账号。另外，你还需要在 Xcode 上针对你的机器做一些设置。</p>
<ol>
<li>安装和设置 CocoaPods</li>
</ol>
<pre><code class="language-shell">sudo gem install cocoapods
pod setup
</code></pre>
<ol>
<li>
<p>按照下面 Xcode 签名流程来配置你的项目：</p>
</li>
<li>
<ol>
<li>通过在命令行中于你当前 Flutter 项目目录下运行 <code>open ios/Runner.xcworkspace</code> 命令来打开默认的 Xcode 工程。</li>
<li>在运行按钮的下拉列表里选择你想要部署到的设备；</li>
<li>在左侧的导航面板中选择 <code>Runner</code> 项目；</li>
<li>在 <code>Runner</code> 项目的设置页面，请确保勾选你的开发团队。在不同的 Xcode 版本里，这一部分的操作界面不同：</li>
</ol>
</li>
<li>
<ol>
<li>
<ol>
<li>在 Xcode 10 版本中，请在这里设置：General &gt; Signing &gt; Team</li>
<li>在 Xcode 11 版本以后，请在这里设置 Signing &amp; Capabilities &gt; Team</li>
</ol>
</li>
</ol>
</li>
<li>
<ol>
<li>在 Runner 项目的设置页面中，确保 General &gt; Signing &gt; Team 选项下的 Development Team 选中状态。</li>
</ol>
</li>
<li>
<ol>
<li>
<ol>
<li>在开始你的第一个 iOS 项目开发之前，你需要先在 Xcode 中登陆你的 Apple 开发者账号</li>
<li>任何 Apple ID 都可以进行开发和测试。如果想将应用上架 App Store，你需要加入 Apple Developer Program，你可以在 <a href="https://developer.apple.com/support/compare-memberships">Choosing a Membership</a> 页面中查看详细的说明。</li>
</ol>
</li>
</ol>
</li>
<li>
<ol>
<li>当你第一次将设备连接到开发机用于开发时，你需要分别在 Mac 和开发机上进行信任设备的操作。当你第一次连接时，会有个弹窗，点击 <code>Trust</code> 即可。</li>
</ol>
</li>
<li>
<ol>
<li>
<ol>
<li>然后在 iOS 开发机上进入 Settings 应用，选择 <strong>General &gt; Device Management</strong> 然后信任相应的证书</li>
</ol>
</li>
</ol>
</li>
<li>
<ol>
<li>如果 Xcode 的自动签名失败了，你可以检查以下项目中 <strong>General &gt; Identity &gt; Bundle Identifier</strong> 里的值是否是唯一的。</li>
</ol>
</li>
<li>
<p>执行 <code>flutter run</code> 命令来运行你的应用。</p>
</li>
</ol>
<h3 id="设置android-开发环境">设置Android 开发环境</h3>
<p>android 开发建议使用 Android Studio，也可以使用其它编辑器。</p>
<ol>
<li>下载 Android Studio</li>
<li>运行Android Studio，安装android SDK， Android SDK Platform-Tools 以及 Android SDK Build-Tools。</li>
</ol>
<h4 id="配置-android-设备">配置 Android 设备</h4>
<p>在 Android 设备上运行或测试 Flutter 应用之前，你需要一个运行 Android 4.1（API 版本 16）或者更高的设备。</p>
<ol>
<li>在设备上打开 <strong>Developer options</strong> 和 <strong>USB debugging</strong> 选项，你可以在 <a href="https://developer.android.google.cn/studio/debug/dev-options">Android documentation</a> 上查看更详细的方法介绍。</li>
<li>如果是在 Windows 平台上使用，需要安装 <a href="https://developer.android.google.cn/studio/run/win-usb">Google USB Driver</a></li>
<li>通过 USB 接口连接手机和电脑，如果在设备上弹出需要授权弹窗，允许授权以便让电脑能够访问你的开发设备。</li>
<li>在命令行中，使用 <code>flutter devices</code> 命令来确保 Flutter 能够识别出你所连接的 Android 设备。</li>
</ol>
<p>默认情况下，Flutter 会使用当前版本 <code>adb</code> 工具所依赖的 Android SDK 版本，如果你想让 Flutter 使用别的 Android SDK，你可以通过设置 <code>ANDROID_HOME</code> 环境变量来达到这个目的。</p>
<h4 id=""></h4>
<h4 id="配置-android-模拟器">配置 Android 模拟器</h4>
<p>根据以下步骤来将 Flutter 应用运行或测试于你的 Android 模拟器上：</p>
<ol>
<li>激活机器上的 <a href="https://developer.android.google.cn/studio/run/emulator-acceleration">VM acceleration</a> 选项。</li>
<li>启动 <strong>Android Studio &gt; Tools &gt; Android &gt; AVD Manager</strong>，然后选择 <strong>Create Virtual Device</strong> 选项。（只有在 Android 项目中才会显示 <strong>Android</strong> 子选项。）</li>
<li>选择相应的设备并选择 <strong>Next</strong> 选项。</li>
<li>选择一个或多个你想要模拟的 Android 版本的系统镜像，然后选择 <strong>Next</strong> 选项。推荐选择 <strong>x86</strong> 或者 <strong>x86_64</strong> 镜像。</li>
<li>在 Emulated Performance 下选择 <strong>Hardware - GLES 2.0</strong> 选项来开启 <a href="https://developer.android.google.cn/studio/run/emulator-acceleration">硬件加速</a>。</li>
<li>确保 AVD 选项配置正确，并选择 <strong>Finish</strong> 选项。<br>
想要查看上述步骤的更多详细信息，请查看 <a href="https://developer.android.google.cn/studio/run/managing-avds">Managing AVDs</a> 页面。</li>
<li>在 Android Virtual Device Manager 中，点击工具栏中的 <strong>Run</strong> 选项，模拟器会启动并为你所选择的系统版本和设备显示出相应的界面。</li>
</ol>
<h2 id="常见问题">常见问题</h2>
<h4 id="waiting-for-another-flutter-command-to-release-the-startup-lock">Waiting for another flutter command to release the startup lock</h4>
<p>打开AndroidStudio的时候顶部的模拟器一直是loading状态，运行flutter doctor 提示：</p>
<pre><code>Waiting for another flutter command to release the startup lock
</code></pre>
<p>解决方法，如下：</p>
<ol>
<li>打开flutter的安装目录/bin/cache/</li>
<li>删除lockfile文件</li>
<li>重启AndroidStudio</li>
</ol>
<h4 id="flutter-卡在-package-get-的解决办法"><strong>Flutter 卡在 package get 的解决办法</strong></h4>
<p>运行 flutter run 或者新建flutter 项目时卡在：</p>
<pre><code>Running &quot;flutter packages get&quot; in project_name...
</code></pre>
<p>大概率是遇到了防火墙，解决方案毕竟简单，添加两个环境变量即可，环境变量如下：</p>
<pre><code># linux mac 添加代理到 　.zsh_rc 或 .bash_profile
export PUB_HOSTED_URL=https://pub.flutter-io.cn
export FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn
</code></pre>
<p>官方解决方案文档：<a href="https://links.jianshu.com/go?to=https://github.com/flutter/flutter/wiki/Using-Flutter-in-China">Using Flutter in China</a> https://flutter.dev/community/china[3]</p>
<h3 id="参考链接">参考链接</h3>
<ol>
<li><a href="https://flutter.cn/docs/get-started/install">安装和环境配置 https://flutter.cn/docs/get-started/install</a></li>
<li><a href="https://flutter.cn/docs/development/tools/sdk/archive">SDK 版本列表 https://flutter.cn/docs/development/tools/sdk/archive</a></li>
<li><a href="https://links.jianshu.com/go?to=https://github.com/flutter/flutter/wiki/Using-Flutter-in-China">Using Flutter in China</a> https://flutter.dev/community/china</li>
</ol>
<hr>
<p><strong>最后，感谢女朋友支持和包容，比❤️</strong></p>
<p>也可以在公号输入以下关键字获取历史文章：<code>公号&amp;小程序</code> | <code>设计模式</code> | <code>并发&amp;协程</code></p>
<figure data-type="image" tabindex="1"><img src="http://media.gusibi.mobi/WDz3v4cU4LQq1oyKX-fYK1LxIThzZ1hK931ZaPRC8CdcB0t2oTYJciMDuAws70FY" alt="扫码关注" loading="lazy"></figure>
<hr>
<h3 id="内推时间">内推时间</h3>
<figure data-type="image" tabindex="2"><img src="http://media.gusibi.mobi/5FzreeM6IYt55JSQMAV63INPIvuPik75FlJAbP1e7Zdlg1WPe6BrHI-q0jkXskGf" alt="" loading="lazy"></figure>

              </div>
              <div class="toc-container">
                <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#%E5%AE%89%E8%A3%85">安装</a>
<ul>
<li><a href="#%E8%AE%BE%E7%BD%AE-ios-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83">设置 iOS 开发环境</a>
<ul>
<li><a href="#%E9%85%8D%E7%BD%AEios-%E6%A8%A1%E6%8B%9F%E5%99%A8">配置iOS 模拟器</a></li>
</ul>
</li>
<li><a href="#%E8%AE%BE%E7%BD%AEandroid-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83">设置Android 开发环境</a>
<ul>
<li><a href="#%E9%85%8D%E7%BD%AE-android-%E8%AE%BE%E5%A4%87">配置 Android 设备</a></li>
<li></li>
<li><a href="#%E9%85%8D%E7%BD%AE-android-%E6%A8%A1%E6%8B%9F%E5%99%A8">配置 Android 模拟器</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98">常见问题</a><br>
*
<ul>
<li><a href="#waiting-for-another-flutter-command-to-release-the-startup-lock">Waiting for another flutter command to release the startup lock</a></li>
<li><a href="#flutter-%E5%8D%A1%E5%9C%A8-package-get-%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95"><strong>Flutter 卡在 package get 的解决办法</strong></a></li>
<li><a href="#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5">参考链接</a></li>
<li><a href="#%E5%86%85%E6%8E%A8%E6%97%B6%E9%97%B4">内推时间</a></li>
</ul>
</li>
</ul>
</li>
</ul>

              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">下一篇</div>
            <a href="http://blog.gusibi.site/post/google-TFacilitating-Technical-Writing-Courses/">
              <h3 class="post-title">
                Facilitating Technical Writing Courses
              </h3>
            </a>
          </div>
        

        
          

          
            <link rel="stylesheet" href="https://unpkg.com/disqusjs@1.1/dist/disqusjs.css">
<script src="https://unpkg.com/disqusjs@1.1/dist/disqus.js"></script>

<div id="disqus_thread"></div>

<script>

var options = {
  shortname: 'gu-si-bi',
  apikey: '',
}
if ('') {
  options.api = ''
}
var dsqjs = new DisqusJS(options)

</script>

          
        

        <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
  <a class="rss" href="http://blog.gusibi.site/atom.xml" target="_blank">
    <i class="ri-rss-line"></i> RSS
  </a>
</div>

      </div>
    </div>

    <script>
      hljs.initHighlightingOnLoad()

      let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

      // This should probably be throttled.
      // Especially because it triggers during smooth scrolling.
      // https://lodash.com/docs/4.17.10#throttle
      // You could do like...
      // window.addEventListener("scroll", () => {
      //    _.throttle(doThatStuff, 100);
      // });
      // Only not doing it here to keep this Pen dependency-free.

      window.addEventListener("scroll", event => {
        let fromTop = window.scrollY;

        mainNavLinks.forEach((link, index) => {
          let section = document.getElementById(decodeURI(link.hash).substring(1));
          let nextSection = null
          if (mainNavLinks[index + 1]) {
            nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
          }
          if (section.offsetTop <= fromTop) {
            if (nextSection) {
              if (nextSection.offsetTop > fromTop) {
                link.classList.add("current");
              } else {
                link.classList.remove("current");    
              }
            } else {
              link.classList.add("current");
            }
          } else {
            link.classList.remove("current");
          }
        });
      });

    </script>
  </body>
</html>
