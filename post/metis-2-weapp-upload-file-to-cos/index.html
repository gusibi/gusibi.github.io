<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>å°ç¨‹åºå¼€å‘ï¼šä¸Šä¼ å›¾ç‰‡åˆ°è…¾è®¯äº‘ | é¡¾æ–¯æ¯”</title>
<link rel="shortcut icon" href="http://blog.gusibi.site/favicon.ico?v=1593958900039">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="http://blog.gusibi.site/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="å°ç¨‹åºå¼€å‘ï¼šä¸Šä¼ å›¾ç‰‡åˆ°è…¾è®¯äº‘ | é¡¾æ–¯æ¯” - Atom Feed" href="http://blog.gusibi.site/atom.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-76238744-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-76238744-1');
</script>


    <meta name="description" content="
è¿™æ˜¯å°ç¨‹åºå¼€å‘ç¬¬äºŒç¯‡ï¼Œä¸»è¦ä»‹ç»å¦‚ä½•ä¸Šä¼ å›¾ç‰‡åˆ°è…¾è®¯äº‘ï¼Œä¹‹æ‰€ä»¥é€‰æ‹©è…¾è®¯äº‘ï¼Œæ˜¯å› ä¸ºè…¾è®¯äº‘å…è´¹ç©ºé—´å¤§ğŸ˜‚

å‡†å¤‡å·¥ä½œ
ä¸Šä¼ å›¾ç‰‡ä¸»è¦æ˜¯å°†å›¾ç‰‡ä¸Šä¼ åˆ°è…¾è®¯äº‘å¯¹è±¡å­˜å‚¨ï¼ˆCOSï¼‰ã€‚
è¦ä½¿ç”¨å¯¹è±¡å­˜å‚¨ APIï¼Œéœ€è¦å…ˆæ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š

è´­ä¹°è…¾è®¯äº‘å¯¹è±¡å­˜å‚¨ï¼ˆCOS..." />
    <meta name="keywords" content="tutorial,python,å°ç¨‹åº,weixin,swagger" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
    <script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="http://blog.gusibi.site">
  <img class="avatar" src="http://blog.gusibi.site/images/avatar.png?v=1593958900039" alt="">
  </a>
  <h1 class="site-title">
    é¡¾æ–¯æ¯”
  </h1>
  <p class="site-description">
    è¿™ä¸ªäººå¾ˆæ‡’
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          é¦–é¡µ
        </a>
      
    
      
        <a href="/archives" class="menu">
          å½’æ¡£
        </a>
      
    
      
        <a href="/tags" class="menu">
          æ ‡ç­¾
        </a>
      
    
      
        <a href="/post/about" class="menu">
          å…³äº
        </a>
      
    
  </div>
  <div class="social-container">
    
      
        <a href="https://github.com/gusibi" target="_blank">
          <i class="ri-github-line"></i>
        </a>
      
    
      
        <a href="https://twitter.com/amazing_gs" target="_blank">
          <i class="ri-twitter-line"></i>
        </a>
      
    
      
    
      
    
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              å°ç¨‹åºå¼€å‘ï¼šä¸Šä¼ å›¾ç‰‡åˆ°è…¾è®¯äº‘
            </h2>
            <div class="post-info">
              <span>
                2017-08-27
              </span>
              <span>
                7 min read
              </span>
              
                <a href="http://blog.gusibi.site/tag/JjoHj10VdB/" class="post-tag">
                  # tutorial
                </a>
              
                <a href="http://blog.gusibi.site/tag/CsxMxAMxzZ/" class="post-tag">
                  # python
                </a>
              
                <a href="http://blog.gusibi.site/tag/oe3pu-3GBGg/" class="post-tag">
                  # å°ç¨‹åº
                </a>
              
                <a href="http://blog.gusibi.site/tag/hHHzJqiTzdW/" class="post-tag">
                  # weixin
                </a>
              
                <a href="http://blog.gusibi.site/tag/T9A_O6Ryeb-/" class="post-tag">
                  # swagger
                </a>
              
            </div>
            
            <div class="post-content-wrapper">
              <div class="post-content">
                <blockquote>
<p>è¿™æ˜¯å°ç¨‹åºå¼€å‘ç¬¬äºŒç¯‡ï¼Œä¸»è¦ä»‹ç»å¦‚ä½•ä¸Šä¼ å›¾ç‰‡åˆ°è…¾è®¯äº‘ï¼Œä¹‹æ‰€ä»¥é€‰æ‹©è…¾è®¯äº‘ï¼Œæ˜¯å› ä¸ºè…¾è®¯äº‘å…è´¹ç©ºé—´å¤§ğŸ˜‚</p>
</blockquote>
<h2 id="å‡†å¤‡å·¥ä½œ">å‡†å¤‡å·¥ä½œ</h2>
<p>ä¸Šä¼ å›¾ç‰‡ä¸»è¦æ˜¯å°†å›¾ç‰‡ä¸Šä¼ åˆ°è…¾è®¯äº‘å¯¹è±¡å­˜å‚¨ï¼ˆCOSï¼‰ã€‚</p>
<p>è¦ä½¿ç”¨å¯¹è±¡å­˜å‚¨ APIï¼Œéœ€è¦å…ˆæ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ol>
<li>è´­ä¹°è…¾è®¯äº‘å¯¹è±¡å­˜å‚¨ï¼ˆCOSï¼‰æœåŠ¡</li>
<li>åœ¨è…¾è®¯äº‘ <a href="https://console.qcloud.com/cos4/index">å¯¹è±¡å­˜å‚¨æ§åˆ¶å°</a> é‡Œåˆ›å»ºä¸€ä¸ª Bucket</li>
<li>åœ¨æ§åˆ¶å° <a href="https://console.qcloud.com/capi">ä¸ªäºº API å¯†é’¥</a> é¡µé¢é‡Œè·å– AppIDã€SecretIDã€SecretKey å†…å®¹</li>
<li>ç¼–å†™ä¸€ä¸ªè¯·æ±‚ç­¾åç®—æ³•ç¨‹åºï¼ˆæˆ–ä½¿ç”¨ä»»ä½•ä¸€ç§æœåŠ¡ç«¯ SDKï¼‰</li>
<li>è®¡ç®—ç­¾åï¼Œè°ƒç”¨ API æ‰§è¡Œæ“ä½œ</li>
</ol>
<p>æ‰€ä»¥æˆ‘ä»¬è¦åšçš„å‡†å¤‡å·¥ä½œæœ‰ï¼š</p>
<ul>
<li>è¿›å…¥<a href="https://www.qcloud.com">è…¾è®¯äº‘å®˜ç½‘</a>ï¼Œæ³¨å†Œå¸å·</li>
<li>ç™»å½•<a href="https://console.qcloud.com/cos4">äº‘å¯¹è±¡å­˜å‚¨æœåŠ¡ï¼ˆCOSï¼‰æ§åˆ¶å°</a>ï¼Œå¼€é€šCOSæœåŠ¡ï¼Œåˆ›å»ºèµ„æºéœ€è¦ä¸Šä¼ çš„Bucket</li>
<li>åœ¨å°ç¨‹åºå®˜ç½‘ä¸Šé…ç½®åŸŸåä¿¡æ¯ï¼ˆå¦åˆ™æ— æ³•åœ¨å°ç¨‹åºä¸­å‘èµ·å¯¹è¯¥åŸŸåçš„è¯·æ±‚ï¼‰</li>
</ul>
<figure data-type="image" tabindex="1"><img src="http://media.gusibi.mobi/dloLMnRv8lJosOZt_gv9apWHmFRKfBcUtw0bgXR-Q_uSnmuQK5uP822b6lrYqlxq" alt="image" loading="lazy"></figure>
<p>è¿™äº›é…ç½®è¿‡ç¨‹è¿™é‡Œå°±ä¸åšè¯´æ˜äº†ï¼Œæ¥ä¸‹æ¥ä¸»è¦ä»‹ç»æ­¥éª¤4ã€5ã€‚</p>
<p>å°ç¨‹åºä¸Šä¼ å›¾ç‰‡åˆ° cos æµç¨‹å¦‚ä¸‹å›¾ï¼š</p>
<figure data-type="image" tabindex="2"><img src="http://media.gusibi.mobi/LC4VsGph5WEJrKEGK7pbyaJGRpshIMx9H4qh804WDJNiInrIirAmNMvQPXMltb0a" alt="å›¾ç‰‡ä¸Šä¼ æµç¨‹å›¾" loading="lazy"></figure>
<p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æˆ‘ä»¬éœ€è¦å®ç°çš„æ˜¯ï¼Œé‰´æƒæœåŠ¡å™¨è¿”å›ç­¾åçš„æ­¥éª¤ä»¥åŠå°ç¨‹åºçš„ç›¸å…³æ­¥éª¤ã€‚</p>
<h2 id="cosé‰´æƒæœåŠ¡">COSé‰´æƒæœåŠ¡</h2>
<p>ä½¿ç”¨å¯¹è±¡å­˜å‚¨æœåŠ¡ COS æ—¶ï¼Œå¯é€šè¿‡ RESTful API å¯¹ COS å‘èµ· HTTP åŒ¿åè¯·æ±‚æˆ– HTTP ç­¾åè¯·æ±‚ï¼Œå¯¹äºç­¾åè¯·æ±‚ï¼ŒCOS æœåŠ¡å™¨ç«¯å°†ä¼šè¿›è¡Œå¯¹è¯·æ±‚å‘èµ·è€…çš„èº«ä»½éªŒè¯ã€‚</p>
<ul>
<li>åŒ¿åè¯·æ±‚ï¼šHTTP è¯·æ±‚ä¸æºå¸¦ä»»ä½•èº«ä»½æ ‡è¯†å’Œé‰´æƒä¿¡æ¯ï¼Œé€šè¿‡ RESTful API è¿›è¡Œ HTTP è¯·æ±‚æ“ä½œã€‚</li>
<li>ç­¾åè¯·æ±‚ï¼šHTTP è¯·æ±‚æ—¶æ·»åŠ ç­¾åï¼ŒCOSæœåŠ¡å™¨ç«¯æ”¶åˆ°æ¶ˆæ¯åï¼Œè¿›è¡Œèº«ä»½éªŒè¯ï¼ŒéªŒè¯æˆåŠŸåˆ™å¯æ¥å—å¹¶æ‰§è¡Œè¯·æ±‚ï¼Œå¦åˆ™å°†ä¼šè¿”å›é”™è¯¯ä¿¡æ¯å¹¶ä¸¢å¼ƒæ­¤è¯·æ±‚ã€‚<br>
è…¾è®¯äº‘COSå¯¹è±¡å­˜å‚¨ï¼ŒåŸºäºå¯†é’¥ HMAC (Hash Message Authentication Code) çš„è‡ªå®šä¹‰ HTTP æ–¹æ¡ˆè¿›è¡Œèº«ä»½éªŒè¯ã€‚</li>
</ul>
<p>ä¸Šä¼ å›¾ç‰‡æ˜¯ä¸€ä¸ªç­¾åè¯·æ±‚ï¼Œéœ€è¦è¿›è¡Œç­¾åéªŒè¯ã€‚ä¹‹æ‰€ä»¥æˆ‘ä»¬</p>
<h3 id="ç­¾åæµç¨‹">ç­¾åæµç¨‹</h3>
<p>å®¢æˆ·é€šè¿‡å¯¹ HTTP è¯·æ±‚è¿›è¡Œç­¾åï¼Œå¹¶å°†ç­¾ååçš„è¯·æ±‚å‘é€è‡³è…¾è®¯äº‘è¿›è¡Œç­¾åéªŒè¯ï¼Œå…·ä½“æµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>
<figure data-type="image" tabindex="3"><img src="https://mc.qcloudimg.com/static/img/4a1eb29033caa977c648cb84d9398fdd/image.png" alt="ç­¾åæµç¨‹" loading="lazy"></figure>
<p>æˆ‘ä»¬ä½¿ç”¨ sdk å¼€å‘ï¼Œè¿™ä¸ªæµç¨‹å¤§è‡´äº†è§£ä¸‹å°±è¡Œï¼Œç­¾åçš„å®ç° sdk å·²ç»åŒ…å«ï¼Œåªéœ€è¦è°ƒç”¨æ–¹æ³•å³å¯ã€‚</p>
<p>é€šè¿‡ç­¾åæµç¨‹æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œç­¾åéœ€è¦ SecretId å’Œ SecretKeyï¼Œè¿™ä¸¤ä¸ªä¿¡æ¯ä¸é€‚åˆå­˜æ”¾åœ¨å®¢æˆ·ç«¯ä¸­ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬å•ç‹¬éƒ¨ç½²ä¸€ä¸ªé‰´æƒæœåŠ¡å™¨çš„ä¸»è¦åŸå› ã€‚</p>
<h3 id="ç­¾åç”Ÿæˆ-api">ç­¾åç”Ÿæˆ API</h3>
<p>ä¸Šä¸€ç¯‡<a href="">å°ç¨‹åºå¼€å‘ï¼špython sanic å®ç°å°ç¨‹åºç™»å½•æ³¨å†Œ</a> æˆ‘ä»¬ä»‹ç»è¿‡ï¼ŒæœåŠ¡ç«¯ä½¿ç”¨ <a href="https://github.com/channelcat/sanic"><code>sanic</code></a> æ¡†æ¶ + <a href="https://github.com/guokr/swagger-py-codegen"><code>swagger_py_codegen</code></a> ç”Ÿæˆ rest-apiã€‚</p>
<p>æ·»åŠ ç­¾åç”Ÿæˆ api æˆ‘ä»¬éœ€è¦å…ˆåœ¨æ–‡æ¡£ä¸­æ·»åŠ  API çš„ç›¸å…³æè¿°ã€‚<a href="https://github.com/gusibi/Metis/blob/master/docs/v1.yml">æ–‡æ¡£ä»£ç ï¼šhttps://github.com/gusibi/Metis/blob/master/docs/v1.yml</a></p>
<pre><code class="language-yml">    /qc_cos/config:
        get:
            summary: è…¾è®¯äº‘é…ç½®
            description: è…¾è®¯äº‘é…ç½®
            tags: [Config]
            operationId: get_qc_cos_config
            parameters:
                - $ref: '#/parameters/AccessToken'
                - $ref: '#/parameters/qcos_path_in_query'
            responses:
                200:
                    schema:
                        $ref: '#/definitions/QCOSConfig'
                default:
                    description: Unexpected error
                    schema:
                        $ref: '#/definitions/Error'
            security:
                - OAuth2: [open]
</code></pre>
<blockquote>
<p>è¿™ä¸ªæ¥å£æˆ‘ä»¬è¦æ±‚ç™»å½•æ‰èƒ½è°ƒç”¨ã€‚<br>
æ–‡æ¡£å®šä¹‰å®Œæˆä¹‹åï¼Œè°ƒç”¨</p>
</blockquote>
<pre><code class="language-sh">swagger_py_codegen -s  docs/v1.yml . -p apis -tlp sanic
</code></pre>
<p>ç”Ÿæˆä»£ç æ¨¡æ¿ï¼ŒAPI ä»£ç å®ç°å¦‚ä¸‹ï¼š</p>
<pre><code class="language-python">    from qcloud_cos.cos_auth import Auth
    
    async def get(self, request):
        auth = Auth(appid=Config.QCOS_APPID,
                    secret_id=Config.QCOS_SECRET_ID,
                    secret_key=Config.QCOS_SECRET_KEY)
        expired = time() + 3600 # ç­¾åæœ‰æ•ˆæ—¶é—´ 3600 ç§’
        # ä¸Šä¼ åˆ° cos bucket çš„ç›®å½•
        dir_name = request.raw_args.get('cos_path', '/xrzeti')
        # ç”Ÿæˆç­¾å
        sign = auth.sign_more(Config.QCOS_BUCKET_NAME,
                              cos_path=dir_name,
                              expired=expired)
        return {&quot;sign&quot;: sign}, 200
</code></pre>
<blockquote>
<p>ç”±äº è…¾è®¯äº‘COSv4 çš„Python SDK åªæ”¯æŒ python2ï¼Œè€Œ sanic éœ€è¦ python3.5+ æ‰€ä»¥ï¼Œè¿™é‡Œæˆ‘ fork å‡ºæ¥ä¸€ä»½æ·»åŠ äº† python3 çš„æ”¯æŒã€‚<br>
<a href="https://github.com/gusibi/cos-python-sdk-v4">https://github.com/gusibi/cos-python-sdk-v4</a>ã€‚ä½¿ç”¨ python3 ç¯å¢ƒçš„å¯ä»¥ä½¿ç”¨è¿™ä¸ªç‰ˆæœ¬ã€‚</p>
</blockquote>
<h2 id="ä¸Šä¼ å›¾ç‰‡åˆ°-cos">ä¸Šä¼ å›¾ç‰‡åˆ° cos</h2>
<h3 id="é€‰æ‹©å›¾ç‰‡">é€‰æ‹©å›¾ç‰‡</h3>
<blockquote>
<p><code>wx.chooseImage(OBJECT)</code><br>
ä»æœ¬åœ°ç›¸å†Œé€‰æ‹©å›¾ç‰‡æˆ–ä½¿ç”¨ç›¸æœºæ‹ç…§ã€‚</p>
</blockquote>
<p>è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œå°ç¨‹åºä¼šæŠŠé€‰æ‹©çš„å›¾ç‰‡æ”¾åˆ°ä¸´æ—¶è·¯å¾„ï¼ˆåœ¨å°ç¨‹åºæœ¬æ¬¡å¯åŠ¨æœŸé—´å¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼Œå¦‚éœ€æŒä¹…ä¿å­˜ï¼Œéœ€åœ¨ä¸»åŠ¨è°ƒç”¨ wx.saveFileï¼Œåœ¨å°ç¨‹åºä¸‹æ¬¡å¯åŠ¨æ—¶æ‰èƒ½è®¿é—®å¾—åˆ°ï¼‰ï¼Œæˆ‘ä»¬åªèƒ½å°†ä¸´æ—¶è·¯å¾„çš„æ–‡ä»¶ä¸Šä¼ ã€‚</p>
<p>æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-js">    uploadToCos: function () {
        var that = this;

        // é€‰æ‹©ä¸Šä¼ çš„å›¾ç‰‡
        wx.chooseImage({
            sizeType: ['original', 'compressed'], // å›¾ç‰‡ç±»å‹ original åŸå›¾ï¼Œcompressed å‹ç¼©å›¾ï¼Œé»˜è®¤äºŒè€…éƒ½æœ‰
            success: function (res) {

                // è·å–æ–‡ä»¶è·¯å¾„
                var file = res.tempFiles[0];
                console.log(file.size);

                // è·å–æ–‡ä»¶å
                var fileName = file.path.match(/(wxfile:\/\/)(.+)/)
                fileName = fileName[2]

                // è·å–åˆ°å›¾ç‰‡ä¸´æ—¶è·¯å¾„åï¼ŒæŒ‡å®šæ–‡ä»¶å ä¸Šä¼ åˆ°cos
                upload(file.path, fileName, that);
            }
        })
    }
    
</code></pre>
<p>è¿™é‡Œå›¾ç‰‡é€‰æ‹©æˆåŠŸåï¼Œæˆ‘ä»¬å–åŸå›¾ä¸Šä¼ åˆ° cosã€‚</p>
<h3 id="ä¸Šä¼ å›¾ç‰‡">ä¸Šä¼ å›¾ç‰‡</h3>
<p>cos ä¸Šä¼ å›¾ç‰‡çš„URLç”± cos_regionï¼Œappidï¼Œbucket_nameå’Œ cos_dir_name æ‹¼æ¥è€Œæˆã€‚<br>
æŠŠä»¥ä¸‹å­—æ®µé…ç½®æˆè‡ªå·±çš„cosç›¸å…³ä¿¡æ¯ï¼Œè¯¦æƒ…å¯çœ‹<a href="https://www.qcloud.com/document/product/436/6066">APIæ–‡æ¡£</a></p>
<pre><code class="language-js">cosUrl = &quot;https://&quot; + REGION + &quot;.file.myqcloud.com/files/v2/&quot; + APPID + &quot;/&quot; + BUCKET_NAME + DIR_NAME;
</code></pre>
<blockquote>
<p><code>REGION</code>: cosä¸Šä¼ çš„åœ°åŒº<br>
<code>APPID</code>: è´¦å·çš„appid<br>
<code>BUCKET_NAME</code>: cos bucketçš„åå­—<br>
<code>DIR_NAME</code>: ä¸Šä¼ çš„æ–‡ä»¶ç›®å½•</p>
</blockquote>
<pre><code class="language-js">var config = require('../config.js');
// å…ˆç¡®å®šä¸Šä¼ çš„ URL
var cosUrl = &quot;https://&quot; + config.cos_region + &quot;.file.myqcloud.com/files/v2/&quot; + config.cos_appid + &quot;/&quot; + config.cos_bucket_name + config.cos_dir_name;

//å¡«å†™è‡ªå·±çš„é‰´æƒæœåŠ¡å™¨åœ°å€
var cosSignatureUrl = config.host + '/v1/qc_cos/config?cos_path=' + config.cos_dir_name;

/**
 * ä¸Šä¼ æ–¹æ³•
 * filePath: ä¸Šä¼ çš„æ–‡ä»¶è·¯å¾„
 * fileNameï¼š ä¸Šä¼ åˆ°cosåçš„æ–‡ä»¶å
 * that: å°ç¨‹åºæ‰€åœ¨å½“å‰é¡µé¢çš„ object
 */
function upload(filePath, fileName, that) {
    var data;

    // é‰´æƒè·å–ç­¾å
    wx.request({
        url: cosSignatureUrl,
        header: {
            Authorization: 'JWT' + ' ' + that.data.jwt.access_token
        },
        success: function (cosRes) {
            // è·å–ç­¾å
            var signature = cosRes.data.sign;

            // å¤´éƒ¨å¸¦ä¸Šç­¾åï¼Œä¸Šä¼ æ–‡ä»¶è‡³COS
            var uploadTask = wx.uploadFile({
                url: cosUrl + '/' + fileName,
                filePath: filePath,
                header: {
                    'Authorization': signature
                },
                name: 'filecontent',
                formData: {
                    op: 'upload'
                },
                success: function (uploadRes) {
                    // ä¸Šä¼ æˆåŠŸåçš„æ“ä½œ
                    var upload_res = JSON.parse(uploadRes.data)
                    var files = that.data.files;
                    files.push(upload_res.data.source_url);
                    that.setData({
                        upload_res: upload_res,
                        files: files,
                        test_image: upload_res.data.source_url
                    })
                },
                fail: function (e) {
                    console.log('e', e)
                }
            });
            // ä¸Šä¼ è¿›åº¦æ¡
            uploadTask.onProgressUpdate((res) =&gt; {
                that.setData({
                    upload_progress: res.progress
                })
                if (res.progress === 100){
                    that.setData({
                        upload_progress: 0
                    })
                }
            })
        }
    })
    return data
}
</code></pre>
<p>å°ç¨‹åºæä¾›äº† <code>uploadTask.onProgressUpdate()</code> æ¥è·å–å›¾ç‰‡çš„ä¸Šä¼ è¿›åº¦ï¼Œè¿™é‡Œæˆ‘å°†å›¾ç‰‡çš„ä¸Šä¼ è¿›åº¦æ˜¾ç¤ºäº†å‡ºæ¥ã€‚</p>
<p>å®Œæ•´ä»£ç å‚è€ƒï¼š<a href="https://github.com/gusibi/Metis-wxapp/tree/master/dist">metis-wxapp: https://github.com/gusibi/Metis-wxapp</a></p>
<h2 id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥</h2>
<ul>
<li><a href="https://github.com/tencentyun/wecos-ugc-upload-demo/blob/master/README.md">WeCOS-UGC-DEMOâ€”â€”å¾®ä¿¡å°ç¨‹åºç”¨æˆ·èµ„æºä¸Šä¼ COSç¤ºä¾‹</a></li>
</ul>
<hr>
<p><strong>æœ€åï¼Œæ„Ÿè°¢å¥³æœ‹å‹æ”¯æŒå’ŒåŒ…å®¹ï¼Œæ¯”â¤ï¸</strong></p>
<p>ä¹Ÿå¯ä»¥åœ¨å…¬å·è¾“å…¥ä»¥ä¸‹å…³é”®å­—è·å–å†å²æ–‡ç« ï¼š<code>å…¬å·&amp;å°ç¨‹åº</code> | <code>è®¾è®¡æ¨¡å¼</code> | <code>å¹¶å‘&amp;åç¨‹</code></p>
<figure data-type="image" tabindex="4"><img src="http://media.gusibi.mobi/zHqNew3j1brVxSoTkjOerslhnB_ZpchcOXf60lFUxiZ5YtnCHs5HrJNOP14go6Ea" alt="æ‰«ç å…³æ³¨" loading="lazy"></figure>
<hr>
<h3 id="å†…æ¨æ—¶é—´">å†…æ¨æ—¶é—´</h3>
<figure data-type="image" tabindex="5"><img src="http://media.gusibi.mobi/5FzreeM6IYt55JSQMAV63INPIvuPik75FlJAbP1e7Zdlg1WPe6BrHI-q0jkXskGf" alt="" loading="lazy"></figure>

              </div>
              <div class="toc-container">
                <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C">å‡†å¤‡å·¥ä½œ</a></li>
<li><a href="#cos%E9%89%B4%E6%9D%83%E6%9C%8D%E5%8A%A1">COSé‰´æƒæœåŠ¡</a>
<ul>
<li><a href="#%E7%AD%BE%E5%90%8D%E6%B5%81%E7%A8%8B">ç­¾åæµç¨‹</a></li>
<li><a href="#%E7%AD%BE%E5%90%8D%E7%94%9F%E6%88%90-api">ç­¾åç”Ÿæˆ API</a></li>
</ul>
</li>
<li><a href="#%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E5%88%B0-cos">ä¸Šä¼ å›¾ç‰‡åˆ° cos</a>
<ul>
<li><a href="#%E9%80%89%E6%8B%A9%E5%9B%BE%E7%89%87">é€‰æ‹©å›¾ç‰‡</a></li>
<li><a href="#%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87">ä¸Šä¼ å›¾ç‰‡</a></li>
</ul>
</li>
<li><a href="#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5">å‚è€ƒé“¾æ¥</a>
<ul>
<li><a href="#%E5%86%85%E6%8E%A8%E6%97%B6%E9%97%B4">å†…æ¨æ—¶é—´</a></li>
</ul>
</li>
</ul>
</li>
</ul>

              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">ä¸‹ä¸€ç¯‡</div>
            <a href="http://blog.gusibi.site/post/python-decorator/">
              <h3 class="post-title">
                Python è£…é¥°å™¨ä½¿ç”¨æŒ‡å—
              </h3>
            </a>
          </div>
        

        
          

          
            <link rel="stylesheet" href="https://unpkg.com/disqusjs@1.1/dist/disqusjs.css">
<script src="https://unpkg.com/disqusjs@1.1/dist/disqus.js"></script>

<div id="disqus_thread"></div>

<script>

var options = {
  shortname: 'gu-si-bi',
  apikey: '',
}
if ('') {
  options.api = ''
}
var dsqjs = new DisqusJS(options)

</script>

          
        

        <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
  <a class="rss" href="http://blog.gusibi.site/atom.xml" target="_blank">
    <i class="ri-rss-line"></i> RSS
  </a>
</div>

      </div>
    </div>

    <script>
      hljs.initHighlightingOnLoad()

      let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

      // This should probably be throttled.
      // Especially because it triggers during smooth scrolling.
      // https://lodash.com/docs/4.17.10#throttle
      // You could do like...
      // window.addEventListener("scroll", () => {
      //    _.throttle(doThatStuff, 100);
      // });
      // Only not doing it here to keep this Pen dependency-free.

      window.addEventListener("scroll", event => {
        let fromTop = window.scrollY;

        mainNavLinks.forEach((link, index) => {
          let section = document.getElementById(decodeURI(link.hash).substring(1));
          let nextSection = null
          if (mainNavLinks[index + 1]) {
            nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
          }
          if (section.offsetTop <= fromTop) {
            if (nextSection) {
              if (nextSection.offsetTop > fromTop) {
                link.classList.add("current");
              } else {
                link.classList.remove("current");    
              }
            } else {
              link.classList.add("current");
            }
          } else {
            link.classList.remove("current");
          }
        });
      });

    </script>
  </body>
</html>
